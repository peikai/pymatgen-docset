
<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/><meta content="Docutils 0.19: https://docutils.sourceforge.io/" name="generator"/>
<title>pymatgen.io.packmol module — pymatgen 2023.1.30 documentation</title>
<link href="_static/pygments.css" rel="stylesheet" type="text/css"/>
<link href="_static/basic.css" rel="stylesheet" type="text/css"/>
<script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
<script src="_static/doctools.js"></script>
<script src="_static/sphinx_highlight.js"></script>
<link href="genindex.html" rel="index" title="Index"/>
<link href="search.html" rel="search" title="Search"/>
<link href="pymatgen.io.phonopy.html" rel="next" title="pymatgen.io.phonopy module"/>
<link href="pymatgen.io.nwchem.html" rel="prev" title="pymatgen.io.nwchem module"/>
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-33990148-1']);
  _gaq.push(['_trackPageview']);
</script>
</head><body>
<div aria-label="related navigation" class="related" role="navigation">
<h3>Navigation</h3>
<ul>
<li class="right" style="margin-right: 10px">
<a accesskey="I" href="genindex.html" title="General Index">index</a></li>
<li class="right">
<a href="py-modindex.html" title="Python Module Index">modules</a> |</li>
<li class="right">
<a accesskey="N" href="pymatgen.io.phonopy.html" title="pymatgen.io.phonopy module">next</a> |</li>
<li class="right">
<a accesskey="P" href="pymatgen.io.nwchem.html" title="pymatgen.io.nwchem module">previous</a> |</li>
<li class="nav-item nav-item-0"><a href="index.html">pymatgen 2023.1.30 documentation</a> »</li>
<li class="nav-item nav-item-1"><a href="modules.html">pymatgen</a> »</li>
<li class="nav-item nav-item-2"><a href="pymatgen.html">pymatgen namespace</a> »</li>
<li class="nav-item nav-item-3"><a accesskey="U" href="pymatgen.io.html">pymatgen.io namespace</a> »</li>
<li class="nav-item nav-item-this"><a href="">pymatgen.io.packmol module</a></li>
</ul>
</div>
<div class="document">
<div class="documentwrapper">
<div class="body" role="main">
<section id="module-pymatgen.io.packmol">
<span id="pymatgen-io-packmol-module"></span><a class="dashAnchor" name="//apple_ref/cpp/Module/pymatgen.io.packmol"></a><h1>pymatgen.io.packmol module<a class="headerlink" href="#module-pymatgen.io.packmol" title="Permalink to this heading">¶</a></h1>
<p>This module provides a pymatgen I/O interface to packmol.</p>
<p>This adopts the minimal core I/O interface (see pymatgen/io/core).
In this case, only a two classes are used. PackmolSet(InputSet) is the container
class that provides a run() method for running packmol locally.</p>
<p>PackmolBoxGen(InputGenerator) provides a recipe for packing molecules into a
box, which returns a PackmolSet object.</p>
<p>For the run() method to work, you need to install the packmol package
See <a class="reference external" href="http://m3g.iqm.unicamp.br/packmol">http://m3g.iqm.unicamp.br/packmol</a> or
<a class="reference external" href="http://leandro.iqm.unicamp.br/m3g/packmol/home.shtml">http://leandro.iqm.unicamp.br/m3g/packmol/home.shtml</a>
for download and setup instructions. Note that packmol versions prior to 20.3.0
do not support paths with spaces.
After installation, you may need to manually add the path of the packmol
executable to the PATH environment variable.</p>
<dl class="py class">
<dt class="sig sig-object py" id="pymatgen.io.packmol.PackmolBoxGen">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">PackmolBoxGen</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tolerance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">2.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">control_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inputfile</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'packmol.inp'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outputfile</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'packmol_out.xyz'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stdoutfile</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'packmol.stdout'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/packmol.html#PackmolBoxGen"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Class/pymatgen.io.packmol.PackmolBoxGen"></a><a class="headerlink" href="#pymatgen.io.packmol.PackmolBoxGen" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="pymatgen.io.core.html#pymatgen.io.core.InputGenerator" title="pymatgen.io.core.InputGenerator"><code class="xref py py-class docutils literal notranslate"><span class="pre">InputGenerator</span></code></a></p>
<p>Generator for a Packmol InputSet that packs one or more molecules into a rectangular
simulation box.</p>
<p>Instantiate a PackmolBoxGen class. The init method defines simulations parameters
like filenames, random seed, tolerance, etc.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tolerance</strong> – Tolerance for packmol, in Å.</p></li>
<li><p><strong>seed</strong> – Random seed for packmol. Use a value of 1 (default) for deterministic
output, or -1 to generate a new random seed from the current time.</p></li>
<li><p><strong>inputfile</strong> – Path to the input file. Default to ‘packmol.inp’.</p></li>
<li><p><strong>outputfile</strong> – Path to the output file. Default to ‘output.xyz’.</p></li>
<li><p><strong>stdoutfile</strong> – Path to the file where stdout will be recorded. Default to ‘packmol.stdout’</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.io.packmol.PackmolBoxGen.get_input_set">
<span class="sig-name descname"><span class="pre">get_input_set</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">molecules</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">box</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/packmol.html#PackmolBoxGen.get_input_set"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/pymatgen.io.packmol.PackmolBoxGen.get_input_set"></a><a class="headerlink" href="#pymatgen.io.packmol.PackmolBoxGen.get_input_set" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a Packmol InputSet for a set of molecules.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>molecules</strong> – <p>A list of dict containing information about molecules to pack
into the box. Each dict requires three keys:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>”name” - the structure name</p></li>
<li><p>”number” - the number of that molecule to pack into the box</p></li>
<li><dl class="simple">
<dt>”coords” - Coordinates in the form of either a Molecule object or</dt><dd><p>a path to a file.</p>
</dd>
</dl>
</li>
</ol>
</div></blockquote>
<p class="rubric">Example</p>
<dl class="simple">
<dt>{“name”: “water”,</dt><dd><p>”number”: 500,
“coords”: “/path/to/input/file.xyz”}</p>
</dd>
</dl>
</p></li>
<li><p><strong>box</strong> – A list of box dimensions xlo, ylo, zlo, xhi, yhi, zhi, in Å. If set to None
(default), pymatgen will estimate the required box size based on the volumes of
the provided molecules.</p></li>
</ul>
</dd>
</dl>
</dd></dl>
</dd></dl>
<dl class="py class">
<dt class="sig sig-object py" id="pymatgen.io.packmol.PackmolSet">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">PackmolSet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="pymatgen.io.core.html#pymatgen.io.core.InputFile" title="pymatgen.io.core.InputFile"><span class="pre">InputFile</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/packmol.html#PackmolSet"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Class/pymatgen.io.packmol.PackmolSet"></a><a class="headerlink" href="#pymatgen.io.packmol.PackmolSet" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="pymatgen.io.core.html#pymatgen.io.core.InputSet" title="pymatgen.io.core.InputSet"><code class="xref py py-class docutils literal notranslate"><span class="pre">InputSet</span></code></a></p>
<p>InputSet for the Packmol software. This class defines several attributes related
to</p>
<p>Instantiate an InputSet.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inputs</strong> – The core mapping of filename: file contents that defines the InputSet data.
This should be a dict where keys are filenames and values are InputFile objects
or strings representing the entire contents of the file. If a value is not an
InputFile object nor a str, but has a __str__ method, this str representation
of the object will be written to the corresponding file. This mapping will
become the .inputs attribute of the InputSet.</p></li>
<li><p><strong>**kwargs</strong> – Any kwargs passed will be set as class attributes e.g.
InputSet(inputs={}, foo=’bar’) will make InputSet.foo == ‘bar’.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.io.packmol.PackmolSet.from_directory">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_directory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">directory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/packmol.html#PackmolSet.from_directory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/pymatgen.io.packmol.PackmolSet.from_directory"></a><a class="headerlink" href="#pymatgen.io.packmol.PackmolSet.from_directory" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct an InputSet from a directory of one or more files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>directory</strong> – Directory to read input files from</p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.io.packmol.PackmolSet.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">30</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/io/packmol.html#PackmolSet.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/pymatgen.io.packmol.PackmolSet.run"></a><a class="headerlink" href="#pymatgen.io.packmol.PackmolSet.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run packmol and write out the packed structure.
:param path: The path in which packmol input files are located.
:param timeout: Timeout in seconds.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ValueError if packmol does not succeed in packing the box.</strong> – </p></li>
<li><p><strong>TimeoutExpiredError if packmold does not finish within the timeout.</strong> – </p></li>
</ul>
</dd>
</dl>
</dd></dl>
</dd></dl>
</section>
<div class="clearer"></div>
</div>
</div>
<div class="clearer"></div>
</div>
<div aria-label="related navigation" class="related" role="navigation">
<h3>Navigation</h3>
<ul>
<li class="right" style="margin-right: 10px">
<a href="genindex.html" title="General Index">index</a></li>
<li class="right">
<a href="py-modindex.html" title="Python Module Index">modules</a> |</li>
<li class="right">
<a href="pymatgen.io.phonopy.html" title="pymatgen.io.phonopy module">next</a> |</li>
<li class="right">
<a href="pymatgen.io.nwchem.html" title="pymatgen.io.nwchem module">previous</a> |</li>
<li class="nav-item nav-item-0"><a href="index.html">pymatgen 2023.1.30 documentation</a> »</li>
<li class="nav-item nav-item-1"><a href="modules.html">pymatgen</a> »</li>
<li class="nav-item nav-item-2"><a href="pymatgen.html">pymatgen namespace</a> »</li>
<li class="nav-item nav-item-3"><a href="pymatgen.io.html">pymatgen.io namespace</a> »</li>
<li class="nav-item nav-item-this"><a href="">pymatgen.io.packmol module</a></li>
</ul>
</div>
<div class="footer" role="contentinfo">
        © Copyright 2011, Pymatgen Development Team.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 6.1.3.
    </div>
<div class="footer">This page uses <a href="http://analytics.google.com/">
Google Analytics</a> to collect statistics. You can disable it by blocking
the JavaScript coming from www.google-analytics.com.
<script type="text/javascript">
  (function() {
    var ga = document.createElement('script');
    ga.src = ('https:' == document.location.protocol ?
              'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    ga.setAttribute('async', 'true');
    document.documentElement.firstChild.appendChild(ga);
  })();
</script>
</div>
</body>
</html>