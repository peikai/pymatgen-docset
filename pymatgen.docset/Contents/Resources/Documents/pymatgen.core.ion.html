
<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/><meta content="Docutils 0.19: https://docutils.sourceforge.io/" name="generator"/>
<title>pymatgen.core.ion module — pymatgen 2023.1.30 documentation</title>
<link href="_static/pygments.css" rel="stylesheet" type="text/css"/>
<link href="_static/basic.css" rel="stylesheet" type="text/css"/>
<script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
<script src="_static/doctools.js"></script>
<script src="_static/sphinx_highlight.js"></script>
<link href="genindex.html" rel="index" title="Index"/>
<link href="search.html" rel="search" title="Search"/>
<link href="pymatgen.core.lattice.html" rel="next" title="pymatgen.core.lattice module"/>
<link href="pymatgen.core.interface.html" rel="prev" title="pymatgen.core.interface module"/>
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-33990148-1']);
  _gaq.push(['_trackPageview']);
</script>
</head><body>
<div aria-label="related navigation" class="related" role="navigation">
<h3>Navigation</h3>
<ul>
<li class="right" style="margin-right: 10px">
<a accesskey="I" href="genindex.html" title="General Index">index</a></li>
<li class="right">
<a href="py-modindex.html" title="Python Module Index">modules</a> |</li>
<li class="right">
<a accesskey="N" href="pymatgen.core.lattice.html" title="pymatgen.core.lattice module">next</a> |</li>
<li class="right">
<a accesskey="P" href="pymatgen.core.interface.html" title="pymatgen.core.interface module">previous</a> |</li>
<li class="nav-item nav-item-0"><a href="index.html">pymatgen 2023.1.30 documentation</a> »</li>
<li class="nav-item nav-item-1"><a href="modules.html">pymatgen</a> »</li>
<li class="nav-item nav-item-2"><a href="pymatgen.html">pymatgen namespace</a> »</li>
<li class="nav-item nav-item-3"><a accesskey="U" href="pymatgen.core.html">pymatgen.core package</a> »</li>
<li class="nav-item nav-item-this"><a href="">pymatgen.core.ion module</a></li>
</ul>
</div>
<div class="document">
<div class="documentwrapper">
<div class="body" role="main">
<section id="module-pymatgen.core.ion">
<span id="pymatgen-core-ion-module"></span><a class="dashAnchor" name="//apple_ref/cpp/Module/pymatgen.core.ion"></a><h1>pymatgen.core.ion module<a class="headerlink" href="#module-pymatgen.core.ion" title="Permalink to this heading">¶</a></h1>
<p>Module containing class to create an ion</p>
<dl class="py class">
<dt class="sig sig-object py" id="pymatgen.core.ion.Ion">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Ion</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">composition</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">charge</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">properties</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/core/ion.html#Ion"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Class/pymatgen.core.ion.Ion"></a><a class="headerlink" href="#pymatgen.core.ion.Ion" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="pymatgen.core.composition.html#pymatgen.core.composition.Composition" title="pymatgen.core.composition.Composition"><code class="xref py py-class docutils literal notranslate"><span class="pre">Composition</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">MSONable</span></code>, <a class="reference internal" href="pymatgen.util.string.html#pymatgen.util.string.Stringify" title="pymatgen.util.string.Stringify"><code class="xref py py-class docutils literal notranslate"><span class="pre">Stringify</span></code></a></p>
<p>Ion object. Just a Composition object with an additional variable to store
charge.</p>
<p>The net charge can either be represented as Mn++, Mn+2, Mn[2+], Mn[++], or
Mn[+2]. Note the order of the sign and magnitude in each representation.</p>
<p>Flexible Ion construction, similar to Composition.
For more information, please see pymatgen.core.Composition</p>
<dl class="py property">
<dt class="sig sig-object py" id="pymatgen.core.ion.Ion.alphabetical_formula">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">alphabetical_formula</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="dashAnchor" name="//apple_ref/cpp/Property/pymatgen.core.ion.Ion.alphabetical_formula"></a><a class="headerlink" href="#pymatgen.core.ion.Ion.alphabetical_formula" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a formula string, with elements sorted by alphabetically and
appended charge</p>
</dd></dl>
<dl class="py property">
<dt class="sig sig-object py" id="pymatgen.core.ion.Ion.anonymized_formula">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">anonymized_formula</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="dashAnchor" name="//apple_ref/cpp/Property/pymatgen.core.ion.Ion.anonymized_formula"></a><a class="headerlink" href="#pymatgen.core.ion.Ion.anonymized_formula" title="Permalink to this definition">¶</a></dt>
<dd><p>An anonymized formula. Appends charge to the end
of anonymized composition</p>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.core.ion.Ion.as_dict">
<span class="sig-name descname"><span class="pre">as_dict</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/pymatgen/core/ion.html#Ion.as_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/pymatgen.core.ion.Ion.as_dict"></a><a class="headerlink" href="#pymatgen.core.ion.Ion.as_dict" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict with composition, as well as charge</p>
</dd>
</dl>
</dd></dl>
<dl class="py property">
<dt class="sig sig-object py" id="pymatgen.core.ion.Ion.charge">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">charge</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="dashAnchor" name="//apple_ref/cpp/Property/pymatgen.core.ion.Ion.charge"></a><a class="headerlink" href="#pymatgen.core.ion.Ion.charge" title="Permalink to this definition">¶</a></dt>
<dd><p>Charge of the ion</p>
</dd></dl>
<dl class="py property">
<dt class="sig sig-object py" id="pymatgen.core.ion.Ion.composition">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">composition</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="pymatgen.core.composition.html#pymatgen.core.composition.Composition" title="pymatgen.core.composition.Composition"><span class="pre">Composition</span></a></em><a class="dashAnchor" name="//apple_ref/cpp/Property/pymatgen.core.ion.Ion.composition"></a><a class="headerlink" href="#pymatgen.core.ion.Ion.composition" title="Permalink to this definition">¶</a></dt>
<dd><p>Composition of ion.</p>
</dd></dl>
<dl class="py property">
<dt class="sig sig-object py" id="pymatgen.core.ion.Ion.formula">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">formula</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="dashAnchor" name="//apple_ref/cpp/Property/pymatgen.core.ion.Ion.formula"></a><a class="headerlink" href="#pymatgen.core.ion.Ion.formula" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a formula string, with elements sorted by electronegativity,
e.g., Li4 Fe4 P4 O16.</p>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.core.ion.Ion.from_dict">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><a class="reference internal" href="#pymatgen.core.ion.Ion" title="pymatgen.core.ion.Ion"><span class="pre">Ion</span></a></span></span><a class="reference internal" href="_modules/pymatgen/core/ion.html#Ion.from_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/pymatgen.core.ion.Ion.from_dict"></a><a class="headerlink" href="#pymatgen.core.ion.Ion.from_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates an ion object from a dict created by as_dict().</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>d</strong> – {symbol: amount} dict.</p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.core.ion.Ion.from_formula">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_formula</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">formula</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><a class="reference internal" href="#pymatgen.core.ion.Ion" title="pymatgen.core.ion.Ion"><span class="pre">Ion</span></a></span></span><a class="reference internal" href="_modules/pymatgen/core/ion.html#Ion.from_formula"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/pymatgen.core.ion.Ion.from_formula"></a><a class="headerlink" href="#pymatgen.core.ion.Ion.from_formula" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates Ion from formula. The net charge can either be represented as
Mn++, Mn+2, Mn[2+], Mn[++], or Mn[+2]. Note the order of the sign and
magnitude in each representation.</p>
<p>Also note that (aq) can be included in the formula, e.g. “NaOH (aq)”.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>formula</strong> – </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Ion</p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.core.ion.Ion.get_reduced_formula_and_factor">
<span class="sig-name descname"><span class="pre">get_reduced_formula_and_factor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iupac_ordering</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hydrates</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/pymatgen/core/ion.html#Ion.get_reduced_formula_and_factor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/pymatgen.core.ion.Ion.get_reduced_formula_and_factor"></a><a class="headerlink" href="#pymatgen.core.ion.Ion.get_reduced_formula_and_factor" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates a reduced formula and factor.</p>
<p>Similar to Composition.get_reduced_formula_and_factor except that O-H formulas
receive special handling to differentiate between hydrogen peroxide and OH-.
Formulas containing HO are written with oxygen first (e.g. ‘Fe(OH)2’ rather than
‘Fe(HO)2’), and special formulas that apply to solids (e.g. Li2O2 instead of LiO)
are not used.</p>
<p>Note that the formula returned by this method does not contain a charge.
To include charge, use formula or reduced_formula instead.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>iupac_ordering</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to order the
formula by the iupac “electronegativity” series, defined in
Table VI of “Nomenclature of Inorganic Chemistry (IUPAC
Recommendations 2005)”. This ordering effectively follows
the groups and rows of the periodic table, except the
Lanthanides, Actinides and hydrogen. Note that polyanions
will still be determined based on the true electronegativity of
the elements.</p></li>
<li><p><strong>hydrates</strong> – If True (default), attempt to recognize hydrated metal
complexes and separate out the H2O in the reduced formula.
For example, Zr(OH)4 becomes ZrO2.2H2O. Applies only to
Ions containing metals.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A pretty normalized formula and a multiplicative factor, i.e.,
H4O4 returns (‘H2O2’, 2.0).</p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.core.ion.Ion.oxi_state_guesses">
<span class="sig-name descname"><span class="pre">oxi_state_guesses</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">oxi_states_override</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">all_oxi_states</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_sites</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/pymatgen/core/ion.html#Ion.oxi_state_guesses"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/pymatgen.core.ion.Ion.oxi_state_guesses"></a><a class="headerlink" href="#pymatgen.core.ion.Ion.oxi_state_guesses" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if the composition is charge-balanced and returns back all
charge-balanced oxidation state combinations. Composition must have
integer values. Note that more num_atoms in the composition gives
more degrees of freedom. e.g., if possible oxidation states of
element X are [2,4] and Y are [-3], then XY is not charge balanced
but X2Y2 is. Results are returned from most to least probable based
on ICSD statistics. Use max_sites to improve performance if needed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>oxi_states_override</strong> (<em>dict</em>) – dict of str-&gt;list to override an
element’s common oxidation states, e.g. {“V”: [2,3,4,5]}</p></li>
<li><p><strong>all_oxi_states</strong> (<em>bool</em>) – if True, an element defaults to
all oxidation states in pymatgen Element.icsd_oxidation_states.
Otherwise, default is Element.common_oxidation_states. Note
that the full oxidation state list is <em>very</em> inclusive and
can produce nonsensical results.</p></li>
<li><p><strong>max_sites</strong> (<em>int</em>) – if possible, will reduce Compositions to at most
this many sites to speed up oxidation state guesses. If the
composition cannot be reduced to this many sites a ValueError
will be raised. Set to -1 to just reduce fully. If set to a
number less than -1, the formula will be fully reduced but a
ValueError will be thrown if the number of atoms in the reduced
formula is greater than abs(max_sites).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>A list of dicts - each dict reports an element symbol and average</dt><dd><p>oxidation state across all sites in that composition. If the
composition is not charge balanced, an empty list is returned.</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>
<dl class="py property">
<dt class="sig sig-object py" id="pymatgen.core.ion.Ion.reduced_formula">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">reduced_formula</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="dashAnchor" name="//apple_ref/cpp/Property/pymatgen.core.ion.Ion.reduced_formula"></a><a class="headerlink" href="#pymatgen.core.ion.Ion.reduced_formula" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a reduced formula string with appended charge. The
charge is placed in brackets with the sign preceding the magnitude, e.g.,
‘Ca[+2]’.</p>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.core.ion.Ion.to_pretty_string">
<span class="sig-name descname"><span class="pre">to_pretty_string</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/pymatgen/core/ion.html#Ion.to_pretty_string"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/pymatgen.core.ion.Ion.to_pretty_string"></a><a class="headerlink" href="#pymatgen.core.ion.Ion.to_pretty_string" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Pretty string with proper superscripts.</p>
</dd>
</dl>
</dd></dl>
<dl class="py property">
<dt class="sig sig-object py" id="pymatgen.core.ion.Ion.to_reduced_dict">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">to_reduced_dict</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">dict</span></em><a class="dashAnchor" name="//apple_ref/cpp/Property/pymatgen.core.ion.Ion.to_reduced_dict"></a><a class="headerlink" href="#pymatgen.core.ion.Ion.to_reduced_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns:
dict with element symbol and reduced amount e.g.,
{“Fe”: 2.0, “O”:3.0}.</p>
</dd></dl>
</dd></dl>
</section>
<div class="clearer"></div>
</div>
</div>
<div class="clearer"></div>
</div>
<div aria-label="related navigation" class="related" role="navigation">
<h3>Navigation</h3>
<ul>
<li class="right" style="margin-right: 10px">
<a href="genindex.html" title="General Index">index</a></li>
<li class="right">
<a href="py-modindex.html" title="Python Module Index">modules</a> |</li>
<li class="right">
<a href="pymatgen.core.lattice.html" title="pymatgen.core.lattice module">next</a> |</li>
<li class="right">
<a href="pymatgen.core.interface.html" title="pymatgen.core.interface module">previous</a> |</li>
<li class="nav-item nav-item-0"><a href="index.html">pymatgen 2023.1.30 documentation</a> »</li>
<li class="nav-item nav-item-1"><a href="modules.html">pymatgen</a> »</li>
<li class="nav-item nav-item-2"><a href="pymatgen.html">pymatgen namespace</a> »</li>
<li class="nav-item nav-item-3"><a href="pymatgen.core.html">pymatgen.core package</a> »</li>
<li class="nav-item nav-item-this"><a href="">pymatgen.core.ion module</a></li>
</ul>
</div>
<div class="footer" role="contentinfo">
        © Copyright 2011, Pymatgen Development Team.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 6.1.3.
    </div>
<div class="footer">This page uses <a href="http://analytics.google.com/">
Google Analytics</a> to collect statistics. You can disable it by blocking
the JavaScript coming from www.google-analytics.com.
<script type="text/javascript">
  (function() {
    var ga = document.createElement('script');
    ga.src = ('https:' == document.location.protocol ?
              'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    ga.setAttribute('async', 'true');
    document.documentElement.firstChild.appendChild(ga);
  })();
</script>
</div>
</body>
</html>