
<!DOCTYPE html>

<html>
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>pymatgen.util.io_utils module — pymatgen 2022.0.4 documentation</title>
<link href="_static/pygments.css" rel="stylesheet" type="text/css"/>
<link href="_static/basic.css" rel="stylesheet" type="text/css"/>
<script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
<script src="_static/jquery.js"></script>
<script src="_static/underscore.js"></script>
<script src="_static/doctools.js"></script>
<link href="genindex.html" rel="index" title="Index"/>
<link href="search.html" rel="search" title="Search"/>
<link href="pymatgen.util.num.html" rel="next" title="pymatgen.util.num module"/>
<link href="pymatgen.util.coord_cython.html" rel="prev" title="pymatgen.util.coord_cython module"/>
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-33990148-1']);
  _gaq.push(['_trackPageview']);
</script>
</head><body>
<div aria-label="related navigation" class="related" role="navigation">
<h3>Navigation</h3>
<ul>
<li class="right" style="margin-right: 10px">
<a accesskey="I" href="genindex.html" title="General Index">index</a></li>
<li class="right">
<a href="py-modindex.html" title="Python Module Index">modules</a> |</li>
<li class="right">
<a accesskey="N" href="pymatgen.util.num.html" title="pymatgen.util.num module">next</a> |</li>
<li class="right">
<a accesskey="P" href="pymatgen.util.coord_cython.html" title="pymatgen.util.coord_cython module">previous</a> |</li>
<li class="nav-item nav-item-0"><a href="index.html">pymatgen 2022.0.4 documentation</a> »</li>
<li class="nav-item nav-item-1"><a href="modules.html">pymatgen</a> »</li>
<li class="nav-item nav-item-2"><a href="pymatgen.html">pymatgen namespace</a> »</li>
<li class="nav-item nav-item-3"><a accesskey="U" href="pymatgen.util.html">pymatgen.util package</a> »</li>
<li class="nav-item nav-item-this"><a href="">pymatgen.util.io_utils module</a></li>
</ul>
</div>
<div class="document">
<div class="documentwrapper">
<div class="body" role="main">
<div class="section" id="module-pymatgen.util.io_utils">
<span id="pymatgen-util-io-utils-module"></span><h1><a name="//apple_ref/cpp/Module/pymatgen.util.io_utils"></a>pymatgen.util.io_utils module<a class="headerlink" href="#module-pymatgen.util.io_utils" title="Permalink to this headline">¶</a></h1>
<p>This module provides utility classes for io operations.</p>
<dl class="py class">
<dt id="pymatgen.util.io_utils.AtomicFile"><a name="//apple_ref/cpp/Class/pymatgen.util.io_utils.AtomicFile"></a>
<em class="property"><span class="pre">class</span> </em><code class="sig-name descname"><span class="pre">AtomicFile</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'w+b'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">createmode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/util/io_utils.html#AtomicFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.io_utils.AtomicFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This is a straight port of Alexander Saltanov’s atomicfile package.</p>
<p>Writeable file object that atomically writes a file.
All writes will go to a temporary file.
Call <code class="docutils literal notranslate"><span class="pre">close()</span></code> when you are done writing, and AtomicFile will rename
the temporary copy to the original name, making the changes visible.
If the object is destroyed without being closed, all your writes are
discarded.
If an <code class="docutils literal notranslate"><span class="pre">encoding</span></code> argument is specified, codecs.open will be called to open
the file in the wanted encoding.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>(</strong><strong>)</strong> (<em>encoding</em>) – </p></li>
<li><p><strong>(</strong><strong>)</strong> – </p></li>
<li><p><strong>(</strong><strong>)</strong> – </p></li>
<li><p><strong>(</strong><strong>)</strong> – </p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="pymatgen.util.io_utils.AtomicFile.close"><a name="//apple_ref/cpp/Method/pymatgen.util.io_utils.AtomicFile.close"></a>
<code class="sig-name descname"><span class="pre">close</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/util/io_utils.html#AtomicFile.close"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.io_utils.AtomicFile.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Close the file.</p>
</dd></dl>
<dl class="py method">
<dt id="pymatgen.util.io_utils.AtomicFile.discard"><a name="//apple_ref/cpp/Method/pymatgen.util.io_utils.AtomicFile.discard"></a>
<code class="sig-name descname"><span class="pre">discard</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/util/io_utils.html#AtomicFile.discard"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.io_utils.AtomicFile.discard" title="Permalink to this definition">¶</a></dt>
<dd><p>Discard the file.</p>
</dd></dl>
</dd></dl>
<dl class="py function">
<dt id="pymatgen.util.io_utils.ask_yesno"><a name="//apple_ref/cpp/Function/pymatgen.util.io_utils.ask_yesno"></a>
<code class="sig-name descname"><span class="pre">ask_yesno</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">question</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/util/io_utils.html#ask_yesno"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.io_utils.ask_yesno" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>(</strong><strong>)</strong> (<em>default</em>) – </p></li>
<li><p><strong>(</strong><strong>)</strong> – </p></li>
</ul>
</dd>
</dl>
<p>Returns:</p>
</dd></dl>
<dl class="py function">
<dt id="pymatgen.util.io_utils.clean_lines"><a name="//apple_ref/cpp/Function/pymatgen.util.io_utils.clean_lines"></a>
<code class="sig-name descname"><span class="pre">clean_lines</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remove_empty_lines</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/util/io_utils.html#clean_lines"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.io_utils.clean_lines" title="Permalink to this definition">¶</a></dt>
<dd><p>Strips whitespace, carriage returns and empty lines from a list of strings.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>string_list</strong> – List of strings</p></li>
<li><p><strong>remove_empty_lines</strong> – Set to True to skip lines which are empty after
stripping.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of clean strings with no whitespaces.</p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt id="pymatgen.util.io_utils.micro_pyawk"><a name="//apple_ref/cpp/Function/pymatgen.util.io_utils.micro_pyawk"></a>
<code class="sig-name descname"><span class="pre">micro_pyawk</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">search</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">results</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">postdebug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/util/io_utils.html#micro_pyawk"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.util.io_utils.micro_pyawk" title="Permalink to this definition">¶</a></dt>
<dd><p>Small awk-mimicking search routine.</p>
<p>‘file’ is file to search through.
‘search’ is the “search program”, a list of lists/tuples with 3 elements;
i.e. [[regex,test,run],[regex,test,run],…]
‘results’ is a an object that your search program will have access to for
storing results.</p>
<p>Here regex is either as a Regex object, or a string that we compile into a
Regex. test and run are callable objects.</p>
<p>This function goes through each line in filename, and if regex matches that
line <em>and</em> test(results,line)==True (or test is None) we execute
run(results,match),where match is the match object from running
Regex.match.</p>
<p>The default results is an empty dictionary. Passing a results object let
you interact with it in run() and test(). Hence, in many occasions it is
thus clever to use results=self.</p>
<p>Author: Rickard Armiento, Ioannis Petousis</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>results</p>
</dd>
</dl>
</dd></dl>
</div>
<div class="clearer"></div>
</div>
</div>
<div class="clearer"></div>
</div>
<div aria-label="related navigation" class="related" role="navigation">
<h3>Navigation</h3>
<ul>
<li class="right" style="margin-right: 10px">
<a href="genindex.html" title="General Index">index</a></li>
<li class="right">
<a href="py-modindex.html" title="Python Module Index">modules</a> |</li>
<li class="right">
<a href="pymatgen.util.num.html" title="pymatgen.util.num module">next</a> |</li>
<li class="right">
<a href="pymatgen.util.coord_cython.html" title="pymatgen.util.coord_cython module">previous</a> |</li>
<li class="nav-item nav-item-0"><a href="index.html">pymatgen 2022.0.4 documentation</a> »</li>
<li class="nav-item nav-item-1"><a href="modules.html">pymatgen</a> »</li>
<li class="nav-item nav-item-2"><a href="pymatgen.html">pymatgen namespace</a> »</li>
<li class="nav-item nav-item-3"><a href="pymatgen.util.html">pymatgen.util package</a> »</li>
<li class="nav-item nav-item-this"><a href="">pymatgen.util.io_utils module</a></li>
</ul>
</div>
<div class="footer" role="contentinfo">
        © Copyright 2011, Pymatgen Development Team.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.5.2.
    </div>
<div class="footer">This page uses <a href="http://analytics.google.com/">
Google Analytics</a> to collect statistics. You can disable it by blocking
the JavaScript coming from www.google-analytics.com.
<script type="text/javascript">
  (function() {
    var ga = document.createElement('script');
    ga.src = ('https:' == document.location.protocol ?
              'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    ga.setAttribute('async', 'true');
    document.documentElement.firstChild.appendChild(ga);
  })();
</script>
</div>
</body>
</html>